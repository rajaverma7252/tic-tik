import{a as p}from"./chunk-QZFLKR46.js";import{a as q}from"./chunk-EETTIGGR.js";import{E as O,H as b,I as C,J as D,K as h,L as l,M as _,N as I,O as w,P as m,Q as d,R as L,S as u,X as S,d as T,ga as P,o as g,s as y,t as x,y as r,z as v}from"./chunk-CI7RB4IY.js";var f=T(q());function k(n,s){if(n&1){let c=I();h(0,"div",4)(1,"button",5),w("click",function(){let e=y(c),t=e.$implicit,o=e.$index,a=m();return x(a.onOption(o+1,t))}),d(2),l()()}if(n&2){let c=s.$index,i=m();r(),O("disabled",i.isDisabled(c+1)),r(),L(c+1)}}var E=(()=>{let s=class s{constructor(i){this.router=i,this.playerDetails=sessionStorage.getItem("playerDetails"),this.currentOrder=Number(sessionStorage.getItem("currentOrder")),this.questionList=sessionStorage.getItem("questionList"),this.optionsList=[],this.optionCount=0,this.playerPosition=0,this.playerName="",this.disabledList=[],!this.playerDetails||!this.currentOrder||!this.questionList?this.router.navigate(["/home"]):(this.playerDetails=JSON.parse(this.playerDetails),this.questionList=JSON.parse(this.questionList),this.currentQuestion=this.questionList.find(t=>t.order==this.currentOrder),this.optionCount=this.playerDetails.length*10,this.playerPosition=1,this.playerName=this.playerDetails[this.playerPosition-1].name,p.questionsDetail.find(t=>t.questionId==this.currentQuestion.id).optionsData.forEach(t=>{let o=p.optionDetails.find(a=>a.optionId==t.optionId);this.optionsList.push({optionId:o.optionId,optionText:o.optionText,postText:t.postText})}),this.optionsList.sort(()=>Math.random()-.5),this.optionsList.splice(this.optionCount))}onOption(i,e){let t=new Audio;t.src="./assets/mp3/click.wav",t.play(),f.default.fire({title:e.optionText+" "+e.postText,imageUrl:"./assets/images/"+e.optionId+".jpeg",imageWidth:200,imageHeight:200,backdrop:!1,confirmButtonText:"Ok"}).then(o=>{o.isConfirmed&&(this.playerPosition==this.playerDetails.length&&this.currentOrder!=p.totalQuestion?(sessionStorage.setItem("currentOrder",this.currentOrder+1),this.router.navigate(["/home/questions"])):this.playerPosition==this.playerDetails.length&&this.currentOrder==p.totalQuestion?f.default.fire({title:"Thank You for playing!",text:"Please feel free to share your thoughts, experiences or any suggestions for further improvement via email at rajaverma7252@gmail.com. Your input is highly valued and appreciated.",icon:"success",backdrop:!1}).then(a=>{a.isConfirmed&&(sessionStorage.removeItem("playerDetails"),sessionStorage.removeItem("currentOrder"),sessionStorage.removeItem("questionList"),this.router.navigate(["/home"]))}):(this.disabledList.push(i),this.playerPosition+=1,this.playerName=this.playerDetails[this.playerPosition-1].name))})}isDisabled(i){return!!this.disabledList.includes(i)}};s.\u0275fac=function(e){return new(e||s)(v(P))},s.\u0275cmp=g({type:s,selectors:[["app-options"]],standalone:!0,features:[S],decls:8,vars:2,consts:[[1,"row","mt-4","mb-5"],[1,"col-sm-12","d-flex","align-items-center","justify-content-center","mb-3","player-name"],[1,"name-color"],[1,"col-sm-12","d-flex","align-items-center","justify-content-center","mb-4","question-text"],[1,"d-flex","align-items-center","justify-content-center","mt-2","mb-2","width-calc"],["type","button",1,"btn","btn-warning","fixed-hw",3,"click","disabled"]],template:function(e,t){e&1&&(h(0,"div",0)(1,"div",1)(2,"span",2),d(3),l(),d(4),l(),_(5,"div",3),C(6,k,3,2,"div",4,b),l()),e&2&&(r(3),u("",t.playerName.toUpperCase()," :"),r(),u("\xA0",t.currentQuestion.text," "),r(2),D(t.optionsList))},styles:[".player-name[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center}.name-color[_ngcontent-%COMP%]{color:#4aff07}.width-calc[_ngcontent-%COMP%]{width:20%}.fixed-hw[_ngcontent-%COMP%]{height:50px;width:50px;font-weight:700}"]});let n=s;return n})();export{E as OptionsComponent};
